#!/bin/bash

# üöÄ –ü—Ä–æ—Å—Ç–æ–π —Å–∫—Ä–∏–ø—Ç –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –¥–µ–ø–ª–æ—è
# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ: ./deploy-simple.sh

cd "/Users/hayksarkisyan/Desktop/New Landing" || exit 1

echo "üöÄ –ë—ã—Å—Ç—Ä—ã–π –¥–µ–ø–ª–æ–π..."
echo ""

# –î–æ–±–∞–≤–ª—è–µ–º –≤—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
git add -A

# –ü—Ä–æ–≤–µ—Ä—è–µ–º, –µ—Å—Ç—å –ª–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è
if [ -z "$(git status --porcelain)" ]; then
    echo "‚ö†Ô∏è  –ù–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π –¥–ª—è –∫–æ–º–º–∏—Ç–∞"
    exit 0
fi

# –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∏–∑–º–µ–Ω–µ–Ω–∏—è
echo "üì¶ –ò–∑–º–µ–Ω–µ–Ω–∏—è:"
git status --short
echo ""

# –°–æ–∑–¥–∞–µ–º –∫–æ–º–º–∏—Ç —Å —Ç–µ–∫—É—â–µ–π –¥–∞—Ç–æ–π
COMMIT_MESSAGE="–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ: $(date '+%Y-%m-%d %H:%M:%S')"
echo "üíæ –°–æ–∑–¥–∞—é –∫–æ–º–º–∏—Ç: $COMMIT_MESSAGE"
git commit -m "$COMMIT_MESSAGE"

# –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –Ω–∞ GitHub
echo ""
echo "üì§ –û—Ç–ø—Ä–∞–≤–ª—è—é –Ω–∞ GitHub..."
if git push; then
    echo ""
    echo "‚úÖ –ì–æ—Ç–æ–≤–æ! –°–∞–π—Ç –æ–±–Ω–æ–≤–∏—Ç—Å—è —á–µ—Ä–µ–∑ 1-2 –º–∏–Ω—É—Ç—ã"
    echo "üîç https://hayksarkisyan96.github.io/ZZM"
else
    echo ""
    echo "‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ"
    exit 1
fi

